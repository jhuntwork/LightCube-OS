#!/bin/bash
# shellcheck disable=SC2034,SC2154,SC2068

_pkgname=expat
pkgname="${_pkgname}-dev"
pkgver=2.6.0
pkgrel=1
pkgdesc='A stream oriented C library for parsing XML'
arch=(x86_64)
url='https://libexpat.github.io/'
license=(GPL)
groups=()
depends=()
makedepends=()
options=()
changelog=ChangeLog
source=(
    "http://downloads.sourceforge.net/${_pkgname}/${_pkgname}-${pkgver}.tar.bz2"
)

sha256sums=(
    ff60e6a6b6ce570ae012dc7b73169c7fdf4b6bf08c12ed0ec6f55736b78d85ba
)


build() {
    cd_unpacked_src
    CFLAGS+=' -fPIC' ./configure --prefix=/usr \
        --disable-shared \
        --enable-static
    make
}

package() {
    pkgfiles=(
        usr/include
        usr/lib/lib*.a
        usr/lib/pkgconfig
    )
    std_package
}
